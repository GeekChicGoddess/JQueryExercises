<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Konami</title>
    <style type="text/css">
        body {
            background-image: url("img/calvinHobbesSky.gif");
        }
        #parent {
            position: relative;
        }
        .fireworks {
            display: none;
            position: absolute;
        }
        #fireworks1 {
            margin-left: 80em;
            margin-top: 0em;
        }
        #fireworks2{
            margin-top: 5em;
            margin-left: 60em;
        }
        #fireworks3 {
            margin-left: 42em;
            margin-top: 10em;
        }
        #fireworks4 {
            margin-top: 18em;
            margin-left: 85em;
        }
        #fireworks5 {
            margin-top: 15em;
            margin-left: 72em;
        }
        #fireworks6 {
            margin-top: 8em;
            margin-left: 7em;
        }
        #fireworks7 {
            margin-top: 0em;
            margin-left: 40em;
        }
        #fireworks8 {
            margin-top: 15em;
            margin-left: 32em;
        }
        #fireworks9 {
            margin-left: 23em;
            margin-top: 6em;
        }
        #fireworks10 {
            margin-top: 0em;
            margin-left:;: 4em;
        }
        #fireworks11 {
            margin-top: 17em;
            margin-left: 3em;
          }
        #fireworks12 {
            margin-top: 20em;
            margin-left: 55em;
          }
        p {
            color: snow;
            font-size: 2em;
            position: absolute;
            margin-left: 35em;
            margin-top: 23em;
            transition: display 3s;
        }

    </style>

</head>
<body>
<div id="parent">
    <div class = "fireworks" id="fireworks1"></div>
    <div class = "fireworks" id="fireworks2"></div>
    <div class = "fireworks" id="fireworks3"></div>
    <div class = "fireworks" id="fireworks4"></div>
    <div class = "fireworks" id="fireworks5"></div>
    <div class = "fireworks" id="fireworks6"></div>
    <div class = "fireworks" id="fireworks7"></div>
    <div class = "fireworks" id="fireworks8"></div>
    <div class = "fireworks" id="fireworks9"></div>
    <div class = "fireworks" id="fireworks10"></div>
    <div class = "fireworks" id="fireworks11"></div>
    <div class = "fireworks" id="fireworks12"></div>
</div>

<p>Konami Code for Night Show</p>



<script
        src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
<script>
    $(document).ready(function(){

        var konami = [];
        $(document).on("keydown", function() {
            if ( event.keyCode == 38 ) {
                if (konami.length == 0) {
                    konami.push("1");
                }
                else if (konami.length == 1) {
                    konami.push("1");
                }
                else {
                    konami = [];
                }
            }
            else if ( event.keyCode == 40 ) {
                if (konami.length == 2) {
                    konami.push("1");
                }
                else if (konami.length == 3) {
                    konami.push("1");
                }
                else {
                    konami = [];
                }
            }
            else if ( event.keyCode == 37 ) {
                if (konami.length == 4) {
                    konami.push("1");
                }
                else if (konami.length == 6) {
                    konami.push("1");
                }
                else {
                    konami = [];
                }
            }
            else if ( event.keyCode == 39 ) {
                if (konami.length == 5) {
                    konami.push("1");
                }
                else if (konami.length == 7) {
                    konami.push("1");
                }
                else {
                    konami = [];
                }
            }
            else if ( event.keyCode == 66 ) {
                if (konami.length == 8) {
                    konami.push("1");
                }
                else {
                    konami = [];
                }
            }
            else if ( event.keyCode == 65 ) {
                if (konami.length == 9) {
                    konami = [];
                    $("div").fadeIn("slow",function () {
                        $("div").css("display", "inline-block")});
                    $("p").css("display", "none");
                }
                else {
                    konami = [];
                }
            }
            else if (event.keyCode == 27 ){
                $("div").css("display", "none");
                $("p").css("display", "block");
                konami = [];
            }
            else {
                konami = [];
            }
        });



        function fireworks (){

            function base(wdth, hght, image, fireworksid) {
                $(fireworksid).css("background-image", image);
                $(fireworksid).css("width", wdth);
                $(fireworksid).css("height", hght);
            }

            var arrayOfArguments = [];
            var green = base.bind(this, "8em", "8em");
            var gold = base.bind(this, "6.5em", "6.5em");
            var multi = base.bind(this, "7em", "7em");
            var arrayOfFireworks = [green, green, green, gold, multi, multi];

            for (var i = 1; i <= 12; i++){
                var genFireworksID = "#fireworks" + i + "";
                var genGreenImage =  "url('img/green_" + i + ".gif')";
                var genGoldImage =  "url('img/gold_" + i + ".gif')";
                var genMultiImage =  "url('img/multi_" + i + ".gif')";

                arrayOfArguments[i-1]= [];
                var temparray = [];
                temparray.push({arg1: genGreenImage, arg2: genFireworksID});
                temparray.push({arg1: genGreenImage, arg2: genFireworksID});
                temparray.push({arg1: genGreenImage, arg2: genFireworksID});
                temparray.push({arg1: genGoldImage, arg2: genFireworksID});
                temparray.push({arg1: genMultiImage, arg2: genFireworksID});
                temparray.push({arg1: genMultiImage, arg2: genFireworksID});
                arrayOfArguments[i-1] = arrayOfArguments[i-1].concat(temparray);
            }

            for (var i = 0; i < arrayOfArguments.length; i++){

                (function(index){
                    setInterval(function () {
                        var whichFireworks = [Math.floor(Math.random()*5.9)];
                        arrayOfFireworks[whichFireworks](arrayOfArguments[index][whichFireworks].arg1, arrayOfArguments[index][whichFireworks].arg2);
                    }, 5200);
                })(i);
            }





        }

        fireworks();
   });


</script>
</body>
</html>